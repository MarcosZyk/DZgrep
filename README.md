# DZgrep
A distribution zgrep tool for distribution log management

## 使用指南

### 基本流程

1. 下载代码后，在代码目录执行如下命令进行打包
```shell
mvn clean package -DskipTests
```
2. 完成打包后，在当前目录下会生成target目录，在target目录下执行如下命令运行target包中的dzgrep.jar
```shell
java -jar dzgrep.jar
```
3. 成功运行jar包后，即可在浏览器访问 localhost:8080 查看交互页面
4. 执行查询前首先需要在最左侧服务器栏添加服务器信息
5. 在中间的查询条件区域填写相关的时间范围和关键词条件后，即可点击查询
6. 展示的查询结果中每一个日志卡片均可点击查看详情以及获取日志上下文
7. 查询的结果支持通过滚动条迭代示浏览后续日志

### 注意事项

***运行环境相关***
1. 本项目为maven项目，需保证运行的机器上提前已安装好maven
2. 本项目为springboot项目，运行依赖java，需保证运行的机器上具备java运行环境
3. 在查询日志后，dzgrep.jar包所在目录下会生成dzgrep目录用以存储每次查询的结果，支持查看，在关闭程序后可对其进行删除

***日志查询相关***
1. 时间范围条件需保证输入的时间为 yyyy-MM-dd HH:mm:ss 格式，例如 2022-10-24 16:06:39
2. 关键词条件支持输入正则表达式
3. 目前工具是以输入的时间范围与关键词条件扫描所有的日志，筛选出同时满足时间范围且包含目标关键词的日志的一行
4. 如欲查询不包含时间范围的日志，可不填写时间范围条件
5. 谨慎输入查询条件，若满足条件的日志过多，则会运行过慢
6. 若在一次查询卡住，可考虑刷新页面或重启服务端



